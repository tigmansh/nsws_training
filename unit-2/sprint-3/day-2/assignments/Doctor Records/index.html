<!DOCTYPE html>
<html>
  <head>
    <title>Masai Doctor Records</title>
  </head>
  <body>
    <!-- Use this form for data input  -->
    <form id="form">
      <input placeholder="Name" type="text" id="name" />
      <input placeholder="Doctor ID" type="text" id="doctor_id" />
      <select id="specialization">
        <option value="">Select Specialization</option>
        <option value="Dermatologist">Dermatologist</option>
        <option value="Dentist">Dentist</option>
        <option value="Gynecologist">Gynecologist</option>
      </select>
      <input placeholder="Experience" type="number" id="experience" />
      <input placeholder="Email" type="email" id="email" />
      <input placeholder="Mobile No." type="number" id="mobile" />
      <input type="submit" value="Submit" />
    </form>

    <!-- Use this Select tag for filter part  -->
    <select id="filter">
      <option value="">Select Specialization</option>
      <option value="Dermatologist">Dermatologist</option>
      <option value="Dentist">Dentist</option>
      <option value="Gynecologist">Gynecologist</option>
    </select>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Doctor ID</th>
          <th>Specialization</th>
          <th>Experience in Years</th>
          <th>Email</th>
          <th>Mobile No</th>
          <th>Role</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <!-- Append Rows here using JS & DOM  -->
      </tbody>
    </table>
  </body>
  
  <script>
    let myForm = document.getElementById("form");
    let tbody = document.querySelector("tbody");
    let formData = [];
    myForm.addEventListener("submit", (e) =>{
      e.preventDefault();
      let  obj ={
        name:myForm.name.value,
        doctorID:myForm.doctor_id.value,
        specialization:myForm.specialization.value,
        experience:myForm.experience.value,
        email:myForm.email.value,
        mobile:myForm.mobile.value,
      };
      formData.push(obj);
      tbody.innerHTML = null;
      formData.forEach((element,index)=>{
        let tr = document.createElement("tr");
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");
        let td5 = document.createElement("td");
        let td6 = document.createElement("td");
        let td7 = document.createElement("td");
        let td8 = document.createElement("td");
        td1.innerText = element.name;
        td2.innerText = element.doctorID;
        td3.innerText = element.specialization;
        td4.innerText = element.experience;
        td5.innerText = element.email;
        td6.innerText = element.mobile;
        if (+td4.innerText > 5){
          td7.innerText = "Senior";
        }
        else if (+td4.innerText >=2 && +td4.innerText <=5){
          td7.innerText = "Junior";
        }
        else if (+td4.innerText <= 1){
          td7.innerText = "Trainee";
        }
        td8.innerText = "Delete";
        td8.style.backgroundColor = "red";
        td8.addEventListener("click", () =>{
          tr.remove();
        });
        tr.append(td1,td2,td3,td4,td5,td6,td7,td8);
        tbody.append(tr);
      });
    });
    let filter = document.getElementById("filter");
   filter.addEventListener("change", (e)=>{
    let newArr=[];
    let counter = e.target.value;
    formData.filter((element,index)=>{      
    if(element.specialization == counter)
    {
      newArr.push(element);
    }
    });
    tbody.innerHTML = null;
    newArr.forEach((element,index)=>{
        let tr = document.createElement("tr");
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");
        let td5 = document.createElement("td");
        let td6 = document.createElement("td");
        let td7 = document.createElement("td");
        let td8 = document.createElement("td");
        td1.innerText = element.name;
        td2.innerText = element.doctorID;
        td3.innerText = element.specialization;
        td4.innerText = element.experience;
        td5.innerText = element.email;
        td6.innerText = element.mobile;
        if (+td4.innerText > 5){
          td7.innerText = "Senior";
        }
        else if (+td4.innerText >=2 && +td4.innerText <=5){
          td7.innerText = "Junior";
        }
        else if (+td4.innerText <= 1){
          td7.innerText = "Fresher";
        }
        td8.innerText = "Delete";
        td8.style.backgroundColor = "red";
        td8.addEventListener("click", () =>{
          tr.remove();
        });
        tr.append(td1,td2,td3,td4,td5,td6,td7,td8);
        tbody.append(tr);
      });
   });
  </script>
</html>
